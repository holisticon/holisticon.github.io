<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Holisticon Presentation Template</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">

    <link rel="stylesheet" href="styles/reveal.css" media="all">

    <link rel="stylesheet" href="styles/presentation.css" media="all">

    <link rel="shortcut icon" href="images/brand/favicon.png">

    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
        if( window.location.search.match( /print-pdf/gi ) ) {
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = 'bower_components/reveal.js/css/print/pdf.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
            var linkMore = document.createElement('link');
            linkMore.rel = 'stylesheet';
            linkMore.type = 'text/css';
            linkMore.href = 'css/pdf.css';
            document.getElementsByTagName( 'head' )[0].appendChild( linkMore );
        }
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <div class="slides">
        <section data-markdown  data-separator="^\n---\n$" data-vertical="^\n--\n$" data-notes="^>NOTES:"><script type="text/template"># Flynn - eine hybride App mit Cordova & AngularJS
Martin Reinhardt (Holisticon AG)


![Twitter - Holisticon](images/brand/tweet_logo.png) <!-- .element: class="inline" style="max-height:32px; vertical-align: top; " --> [@mreinhardt](https://twitter.com/mreinhardt)<br />

<!-- .slide: class="title" data-background="images/brand/grass_footer.png" data-background-repeat="repeat-x" data-background-position="bottom center" data-background-size="inherit" -->


---

# Basics
## Mobile First

* Rich Internet Applications (RIA) sind überall <!-- .element: class="fragment" -->
* UI-Berechnungen erfolgen nicht mehr auf dem Server, wie in JSF, Wicket etc <!-- .element: class="fragment" -->
* Mehr und mehr Client-Logik <!-- .element: class="fragment" -->
* JEE 7 zeigt diesen Trend, z.B. JSON und WebSockets <!-- .element: class="fragment" -->
* Zuerst wird für mobile Geräte wie Smartphones und Tablets geplant <!-- .element: class="fragment" -->

>NOTES:
* Wer hat schon Erfahrungen
  * Apps?
    * AngularJS

--

# App gehts?

1. Apps benötigen wenig Speicherplatz<!-- .element: class="fragment" -->
2. Apps sind schnell heruntergeladen und blitzschnell installiert<!-- .element: class="fragment" -->
3. Apps sind präzise Werkzeuge, die in der Regel genau die Funktionen bieten, die man braucht<!-- .element: class="fragment" -->
4. Apps sind einfach zu bedienen und benötigen wenig Einarbeitungszeit<!-- .element: class="fragment" -->
5. Apps lassen sich leicht auf den neuesten Stand bringen<!-- .element: class="fragment" -->
6. Apps sind preiswert<!-- .element: class="fragment" -->
7. Apps lassen sich leicht zu installieren und zu entfernen<!-- .element: class="fragment" -->
8. Apps bieten die Möglichkeit, auch exotische oder ungewöhnliche Aufgaben zu lösen<!-- .element: class="fragment" -->
9. Apps sind ein Vertriebskanal, den sich viele Unternehmen erstmal lange und mühsam erarbeiten müsse<!-- .element: class="fragment" -->
10. Apps bieten ein direkten Monetarisierungsansatz <!-- .element: class="fragment" -->

>NOTES:
* Warum Apps
* Entwickler können schnell Nutzer auch Mobil erreichen und neue Geschäftsmodelle ohne eigene Infrastruktur bereitstellen
* Nutzer haben geringe Einstiegshürde
* Entwickler können direkt Geld für ihre Arbeit erhalten

--


# Technische Typen von Mobile Apps
|                       | Native              | Hybrid            | Web               |
|:---------------------:|:-------------------------:|:-----------------------------:|:-------------------------:|
|*GPU*          |Direkte API          |Canvas, SVG            |Canvas, SVG          |
|*Native UI*      |Ja             |Emuliert           |Emuliert         |
|*Verteilung*     |AppStore / Market      |AppStore / Market        |Web            |
|*Kamera*       |Ja             |Ja mit Plugins         |Teilweise            |
|*Notifications*    |Ja             |Nur lokal            |Nur lokal          |
|*Kalender / Kontakte* |Ja             |Ja mit Plugins         |Nein           |
|*Speicher*       |FS        |HTML5 & FS      |HTML5            |
|*Offline*    | Ja     | Ja       | Eingeschränkt     |
|*Sprache*        |Hochsprachen         |Hochsprachen / Web | Web       |

---

# Flynn, die Book-Scanner-App

 * Flynn hilft, Buchtitel zu erfassen, zu verwalten und zu katalogisieren
 * Nutzer liest bequem die ISBN über den Barcode-Scanner ein
 * Wir behalten Überblick über gekauften Bücher
 * ein Tool für ein konkretes Problem ...

--

# Flynn - Architektur

![img](images/Holisiticon_Flynn_Architecture.png)

* Flynn komplett lokal nutzbar 
  * WebSQL über PouchDB
  * Bilder in Datenbank
  * offline 
* Synchronisation mit CouchDB möglich

--

# Apache Cordova

* Open-Source Framework um hybride Apps, basiert auf PhoneGap
* 2011 an Apache übertragen, aus markenrechtlichen Gründen in Apache Cordova umbenannt, PhoneGap Projekt wird derweil von Adobe weitergeführt und weiterentwickelt
* Interaktion mit nativen Biblotheken über Plugins
<br><br><br><br><br><br><br><br>
<!-- .slide: data-background="images/cordova_architecture.png" data-background-repeat="repeat-no" data-background-position="bottom center" data-background-size="30%" -->

>NOTES:
* für Android, Windows Phone, Blackberry, Firefox OS, Amazon FireOS und Ubuntu
* mithilfe von Webtechnologien wie HTML, CSS und Javascript

---


# Ist JavaScript schnell genug für RIA?

![img](images/javascript.png) <!-- .element: class="big-image no-border" -->

> JavaScript != jQuery

> "jQuery = die schmerzfreie Art mit JavaScript zu arbeiten"

>NOTES:
* So wird jQuery vielen erklärt
* Problem ist viele verstehen es nicht es richtig und zielgerichtet einzusetzen
* Viele schlechte Plugins

--

## JavaScript Performance

* überraschend, dass Safari schneller als Chrome ist

![http://jsperf.com/jquery-cache-no-cache/13](images/jquery_performance.png) <!-- .element: class="big-image no-border" -->

* Auch bei Flynn feststellbar
* JavaScript ist Enterprise-ready mit Frameworks wie z.B. AngularJS

>NOTES:
* Java-Projekten nutzen jQuery, um Fehler in grundlegenden Architekturentscheidung abzumildern
* bequeme Selektoren sind echte Performance-Fresser
* jQuery.width() ist extrem langsam, eher jQuery.css()

---

![https://angularjs.org](https://angularjs.org/img/AngularJS-large.png) <!-- .element: class="big-image no-border"  -->


* Framework von Google zur Entwicklung von Web Apps (2009)
* basiert auf einer “Model View Controller” (MVC) Architektur
* läuft komplett im Browser ab
* Features:
  * Dependency Injection
  * Routing
  * Data Binding
  * Templates (HTML-Views)
  * Modularisierung
* Ideal zur Entwicklung von grossen “Enterprise” Anwendungen


>NOTES:
Framework von Google zur Entwicklung von Web Apps - basiert auf einer “Model View Controller” (MVC) Architektur. Diese Architektur erlaubt eine Strukturierung des Quellencodes, welche auch die Entwicklung von grossen “Enterprise” Anwendungen ermöglicht ohne die Kontrolle über den Quellencode zu verlieren - ein Problem von reinen JavaScript Anwendungen.

--

## Angular Basics

* niemals DOM aus Controller manipulieren
* Module können andere Module wieder benutzen
* Präsentation der Daten im “View” mit Hilfe von HTML
  * Direktiven
  * Templates
* Direktive übernimmt eine klar umrissene Aufgabe
  * nötige Code ist in der Direktive gekapselt (Wiederverwendbarkeit)
  * Manipulation nur innerhalb der Direktove ($scope)
  * Lesbarkeit (kein Boilerplate Code im HTML)
* Modell enthalt Daten, die mit Services befüllt werden
* Services werden zur Kommunikation mit Außenwelt genutzt
  * Backend-Kommunikation
  * typischerweise REST
* Controller verbindet View mit "Databinding" am Modell

>NOTES:

Direktiven können auch selber kreiert werden, um so HTML Attribute nach Bedarf zu erstellen. Dieses Konzept macht auch den Markt für Drittanbieter interessant, welche ihre “Widgets” über Direktiven zur Verfügung stellen.
Der Einstieg in AngularJS bereitet in der Anfangsphase etwas Schwierigkeiten - das Arbeiten mit “Factories”, “Services” und “Providern” ist ungewohnt. Ebenso muss man sich an die Verwendung von “Promises” gewöhnen. “Promises” werden dazu verwendet, Funktionen asynchron aufzurufen; diese werden dann aber wie synchrone Aufrufe behandelt, ohne dass der Browser während dem Funktionsaufruf blockiert wird. Sind die ersten Hürden beim Einstieg in AngularJS überwunden, nimmt die Produktivität rapide zu, und man möchte nicht mehr auf AngularJS verzichten.


---

## Ionic

* HTML5-basierendes UI Framework, dass ansprechende Frontends ermöglicht
* Mobile-ready, Swipping, Cache ...
* Für komplexere Apps (mit nativen Look-and-Feel)
* Alternativen:
  * [Onsen UI](http://onsen.io)
  * [KendoUI](http://www.telerik.com/kendo-ui)
* Fokus im Moment auf iOS und Android, aber Großteil funktioniert auch mit anderen Platformen


--

## Warum Ionic

* ng-repeat Listen kosten Performance, mit vielen Büchern "ruckelt" es

![img](images/Holisiticon_Flynn_langsam.png)<!-- .element: class="fragment"  -->


* collection-repeat zeigt nur sichtbaren Elemente im DOM an<!-- .element:   class="fragment"  -->

![img](images/Holisiticon_Flynn_schnell.png)<!-- .element: class="fragment"  -->


--

 * Natives Look'n'Feel

![img](images/Holisiticon_Flynn_Screenshot.png)



---

# Best Practises


* Manueller Bootstrap <!-- .element: class="fragment"  -->
  * Einfacher zur debuggen
  * Mehr Flexibiliät
* AngularJS<!-- .element: class="fragment"  -->
  * Verschachtelung von Scopes vermeiden
  * Event-Handling
  * Daten zwischen Komponenten teilen
  * Nutzung von Promises nicht trivial
* Plugin-Auswahl mit Bedacht <!-- .element: class="fragment"  -->
  * Erschweren Testen
  * Nur beschränkte Auswahl (meist iOS und Android)
  * nicht immer AngularJS kompatibel, besser http://ngcordova.com/

>NOTES:
* Verschachtelte $scopes (z.B. Welche Direktive und welcher Controller hat wie Zugriff auf die Modell-Objekte?)
* Event Handling (z.B. Wie erfahren die einzelnen Komponenten, wo sich was geändert hat?)
* $emit und $broadcast senden Nachrichten an über- und untergeordnete Kontexte
* $emit und $broadcast unterscheiden sich dabei in einem kleinen, aber wichtigen Detail: $emit sendet eine Nachricht an alle übergeordneten Kontexte, $broadcast an alle untergeordneten. Die Kommunikation funktioniert also zunächst nur für Controller, die ineinander verschachtelt sind – nicht jedoch für Controller auf der gleichen Ebene oder gar für Services
* Funktionsweise von Promises manchmal nicht direkt vorhersehbar, aber elegante Lösung für asynchrone Aufgaben

* Notes: Trailing slash in config raus
    * Kein Fehler lokal
    * aber in App
    * Per Debugger verbinden und über Konsole Initialisierung erledigen
    * Flynn als Demo mit lokaler DB

<!-- .slide: data-background="https://docs.angularjs.org/img/guide/concepts-startup.png" data-background-repeat="repeat-no"  data-background-size="20%" data-state="img-right" -->

--

# Continous Integration


![img](images/Holisiticon_Flynn_ci_step1.png)

--

![img](images/Holisiticon_Flynn_ci_step2.png)

--

# Debugging

* Unter OS X kann mit dem Safari die App per Konsole analysiert werden
* Aktivieren im Developer Menü:

![](images/enable_safari_develop_menu.png)

--

# Debugging der App

* In Safari erscheint neuer Eintrag

![](images/remote_web_inspector_attach.png)

--

# Android Debugging

* In Android per Chrome: chrome://inspect

![](images/chrome_debug.png)

* Wichtig `cordova run android` ausführen (Debug)


---

# Ausblick

* App <!-- .element: class="fragment"  -->
  * Kunde will eine App, weil jeder eine hat
  * AngularJS und Cordova gut geeignet für effektive und qualitative Apps erstellen
  * Testaufwand auf Geräten bleibt!
* AngularJS eignet  gut für kleine und große Webprojekte <!-- .element: class="fragment"  -->
  * Entwicklung von Desktop Web Apps
  * Entwicklung von mobilen Web Apps
  * lokale Datenbank mit PouchDB
* Version 2.0 folgt dem “Mobile First” Ansatz <!-- .element: class="fragment"  -->
* AngularJS eignet sich ebenfalls für die Entwicklung von Hybrid Apps <!-- .element: class="fragment"  -->
  * Look & Feel von native Apps kann über spezialisierte Frameworks erreicht werden
  * kaum Performance-Unterschieder auf modernen Geräten

---

# Links

* [jQuery Selektoren Performance](http://jsperf.com/jquery-cache-no-cache/13)
* [Depedency Injection](http://martinfowler.com/articles/injection.html)
* [Cordova App mit JEE-Backend mavenized](https://github.com/hypery2k/angular_cordova_app) 
* [Flynn](http://holisticon.github.io/flynn-book-scanner/)
* [I18n in AngularJS Anwendungen](http://angularjs.de/artikel/angularjs-i18n-ng-translate)









</script></section>
    </div>
    <footer>
        <img src="images/brand/holisticon-logo-grey.svg" class="holisticon-logo" alt="Holisticon AG">
    </footer>

</div>

<script src="scripts/reveal.js"></script>

<script>
    // Configure Reveal
    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.

        width:  1024,
        height: 768,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // Display controls in the bottom right corner
        controls: true,
        // Display a presentation progress bar
        progress: true,
        // Display the page number of the current slide
        slideNumber: false,
        // Push each slide change to the browser history
        history: true,
        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Vertical centering of slides
        center: true,

        // Enable the slide overview mode
        overview: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,


        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // Bounds for smallest/largest possible scale to apply to content
        minScale: 0.5,
        maxScale: 100.0,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme

        // Transition speed
        transitionSpeed: 'default', // default/fast/slow

        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
            { src: 'scripts/reveal.classList.js', condition: function() { return !document.body.classList; } },
            { src: 'scripts/reveal.marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'scripts/reveal.markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: 'scripts/reveal.highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: 'scripts/reveal.zoom.js', async: true, condition: function() { return !!document.body.classList; } },
            { src: 'scripts/reveal.notes.js', async: true, condition: function() { return !!document.body.classList; } },
            //{ src: 'scripts/reveal.search.js', async: true, condition: function() { return !!document.body.classList; } },
            //{ src: 'scripts/reveal.remotes.js', async: true, condition: function() { return !!document.body.classList; } }

        ]
    });
</script>

</body>

</html>